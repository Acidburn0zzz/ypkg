<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>package.yml(5) - Solus package build format</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#CONFIGURATION-FORMAT">CONFIGURATION FORMAT</a>
    <a href="#EXAMPLE">EXAMPLE</a>
    <a href="#COPYRIGHT">COPYRIGHT</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
    <a href="#NOTES">NOTES</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>package.yml(5)</li>
    <li class='tc'></li>
    <li class='tr'>package.yml(5)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>package.yml</code> - <span class="man-whatis">Solus package build format</span>
</p>

<h2 id="SYNOPSIS">SYNOPSIS</h2>

<pre><code>The Solus package build format, with YAML syntax.
</code></pre>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>The primary format of package builds in Solus, <code>package.yml(5)</code> provides a modern,
declarative, and structured format in which to define metadata and steps, to
convert a build operation into a package.</p>

<p><code>ypkg-build(1)</code> will use the advanced patterns system and some very specific
internal rules to automatically split the package into multiple packages,
refered to here as "subpackages".</p>

<h2 id="CONFIGURATION-FORMAT">CONFIGURATION FORMAT</h2>

<p><code>ypkg-build(1)</code> uses the YAML file format. However, this is a very specialised flavour
of YAML with very specific extensions and types.</p>

<p><code>Keys</code></p>

<ul>
<li><p><code>name</code> [string]</p>

<p>  Set the name of the package. In general this should try to match the upstream
  source name wherever possible. All subpackages generated by <code>ypkg-build(1)</code> will
  have this <code>name</code> as a prefix.</p></li>
<li><p><code>version</code> [string]</p>

<p>  The version of the software being packaged. This should match the upstream
  version, i.e. that of the tarball or git tag.</p></li>
<li><p><code>release</code> [integer]</p>

<p>  Packages within Solus are updated by their <strong>release number</strong>. This number
  must start at 1 in new packages, and be incremented for every new update
  or change to the package that is published.</p>

<p>  It is perfectly acceptable to push an update with a <strong>lower version</strong> by
  bumping the release number.</p></li>
<li><p><code>license</code> [string(s)]</p>

<p>  One or more strings that identify the software license of this package.
  This should in most cases be a recognised <code>SPDX</code> license name.</p>

<pre><code>  * https://spdx.org/licenses/
</code></pre></li>
<li><p><code>source</code> [dict(s)]</p>

<p>  This key expects a list of key:value mappings, to declare the sources that
  this package will use. A "simple source" could be a tarball, where the key
  is the upstream URL, and the value must be a valid <code>sha256sum(1)</code> for that
  tarball.</p>

<p>  You can list multiple sources and they will all be fetched for the build
  process, but only the first will be extracted. You can locate these other
  sources during your build with the variable <code>$sources</code></p>

<p>  <code>git(1)</code> sources are also supported, and can be identified by prefixing the
  URI with <code>git|</code>. The expected value should be a commit, sha reference, or a
  tag.</p></li>
</ul>


<h2 id="EXAMPLE">EXAMPLE</h2>

<pre><code># Complete package

name       : nano
version    : 2.7.1
release    : 63
source     :
    - https://www.nano-editor.org/dist/v2.7/nano-2.7.1.tar.xz : df5cbe69831d7394c0a32fb27373ab313335ea4dc586d6f4be4081eb1de857cd
license    :
    - GPL-3.0
summary    : Small, friendly text editor inspired by Pico
component  : editor
description: |
    GNU nano is an easy-to-use text editor originally designed as a
    replacement for Pico, the ncurses-based editor from the non-free
    mailer package Pine (itself now available under the Apache License
    as Alpine).
setup      : |
    %configure --enable-utf8 --docdir=/usr/share/doc/nano
build      : |
    %make
install    : |
    %make_install

# Git sources
source     :
    - git|https://github.com/solus-project/ypkg.git : v17.0
</code></pre>

<h2 id="COPYRIGHT">COPYRIGHT</h2>

<ul>
<li>Copyright Â© 2016 Ikey Doherty, License: CC-BY-SA-3.0</li>
</ul>


<h2 id="SEE-ALSO">SEE ALSO</h2>

<p><code>solbuild(1)</code>, <code>ypkg(1)</code> <code>ypkg-build(1)</code>, <code>ypkg-install-deps(1)</code></p>

<ul>
<li>https://wiki.solus-project.com/Package.yml</li>
<li>https://github.com/solus-project/ypkg</li>
<li>https://wiki.solus-project.com/Packaging</li>
<li>https://spdx.org/licenses/</li>
</ul>


<h2 id="NOTES">NOTES</h2>

<p>Creative Commons Attribution-ShareAlike 3.0 Unported</p>

<ul>
<li>http://creativecommons.org/licenses/by-sa/3.0/</li>
</ul>



  <ol class='man-decor man-foot man foot'>
    <li class='tl'></li>
    <li class='tc'>December 2016</li>
    <li class='tr'>package.yml(5)</li>
  </ol>

  </div>
</body>
</html>
